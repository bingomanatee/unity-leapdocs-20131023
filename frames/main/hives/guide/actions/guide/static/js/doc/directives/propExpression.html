<span ng-switch="expression_type()">

    <span ng-switch-when="array linked">
        [<a ng-click="link(link_target())">{{ label() }}</a>]
    </span>
    <span ng-switch-when="linked">
        <a ng-click="link(link_target())">{{ label() }} </a>
    </span>
    <span ng-switch-when="array">
        [{{ label() }}]
    </span>
    <span ng-switch-default>
        {{ label() }}
    </span>
</span>
